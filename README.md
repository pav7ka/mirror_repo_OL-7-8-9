Cкрипты для создания локального репозитория Oracle Linux . 

Данные скрипты писались и проверялись на Oracle Linux v9 .

### Действия на сервере зеркала репозиториев :

__1\__ устанавливается ОС Oracle Linux v9 , устанавливайте nginx ,

монтируется дополнительный диск ~2000 ГБ ( в текущей конфигурации репозиториев ) в /usr/share/nginx/html/repos

в каталоге ../copy_rep_srv_mirror/conf.d есть минимальный конфигурационный файл repo.conf для nginx

__2\__ скрипты кладутся в каталог /root/mirror ,

если планируете в другое место , необходимо будет подправить пути в перменных скриптов 

__3\__ прописываете основной скрипт cron_upd_repo.sh в cron

__4\__ в каталоге /etc/yum.repos.d бэкапите и переименовываете все файлы , замещаете их файлами из каталога ../copy_rep_srv_mirror/yum.repos.d

__5\__ если на клиентах отключен Интернет необходимо сделать симлинк каталога /etc/pki/rpm-pgp в каталог /usr/share/nginx/html/repos ( см. п. 3 "клиент" ниже )

__6\__ регулировать кол-во репозиториев можно как в основном скрипте cron_upd_repo.sh так и гранулярно с помощью списков в каталоге ../list

__7\__ для информации , что выполняют ключи "--newest-only" и "--exclude="*.src"" можно обратиться к man reposync и man dnf (yum) соответственно

данные ключи также вынесеныв основном скрипте как переменные 

### Действия на клиенте для установки пакетов из локального репозитория :

__1\__ в каталоге /etc/yum.repos.d бэкапите и переименовываете все файлы , копируете из каталога ../copy_rep_client все файлы согласно версии дистрибутива

__2\__ проходитесь командой sed для выставления или имени сервера локального зеркала или IP сервера , пример :

sed -i 's/IP_OR_NAME/192.168.1.100/g' ./*.repo

__3\__ если на клиентах отсутствует Интернет , в файлах :

docker-ce.repo

nginx.repo

выставлены по умолчанию ключи "gpgkey=" , которые смотрят на локальный сервер ( см. п. 5 "Сервер" выше )

в других файлах *.repo также есть ключик "gpgkey=" , который смотрит в сторону сервера локального репозитория , по умолчанию он заремлен

__4\__

#yum clean all

#yum update
